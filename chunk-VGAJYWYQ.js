import{c as y}from"./chunk-ZSXROQ7T.js";import{a as Q}from"./chunk-JNKXOH34.js";import{a as z}from"./chunk-F4HCV7MG.js";import"./chunk-MUTB2TKD.js";import"./chunk-FDQRYCWA.js";import"./chunk-EK4SZQL6.js";import{a as W,b as V}from"./chunk-UI4BADPC.js";import"./chunk-2HVRJBZQ.js";import"./chunk-6PZJJONO.js";import"./chunk-AESYL7IM.js";import{f as U,i as H,m as L}from"./chunk-3ISTCKLJ.js";import{x as A}from"./chunk-WPRVVZZ7.js";import{p as j}from"./chunk-HXOPXUWF.js";import"./chunk-WHRSLBFN.js";import{o as B}from"./chunk-2R4VX25A.js";import{Bb as O,Hb as k,Ia as I,Ib as R,Jb as N,Lb as a,Nb as r,Ob as P,Pa as n,Qa as h,Rb as C,Sb as S,Tb as D,Vb as F,g as E,gb as w,ib as u,ic as Y,ka as _,nb as M,ob as f,qb as g,rb as x,sb as e,tb as t,ub as b,wa as T,zb as v}from"./chunk-HG3JTMY3.js";function Z(s,m){if(s&1&&(e(0,"tr",25)(1,"td",33),a(2),t(),e(3,"td",33),a(4),t(),e(5,"td",33),a(6),t(),e(7,"td",33),a(8),t(),e(9,"td",33),a(10),t(),e(11,"td",33),a(12),t(),e(13,"td",33),a(14),t()()),s&2){let l=m.$implicit;n(2),r(" ",l.ORDER_REF_NO," "),n(2),r(" ",l.PACKAGE_NO," "),n(2),r(" ",l.PRODUCT_NAME," "),n(2),r(" ",l.QUANTITY," "),n(2),r(" ",l.UNIT_TYPE_DESCRIPTION," "),n(2),r(" ",l.WAREHOUSE_NAME," "),n(2),r(" ",l.CUSTOMER_NAME," ")}}function G(s,m){if(s&1&&(e(0,"article",29)(1,"section",34)(2,"h4",35),a(3),t(),e(4,"p",36)(5,"span",37),a(6," From "),t(),a(7),t()(),e(8,"button",38),T(),e(9,"svg",39),b(10,"path",40)(11,"path",41)(12,"path",42),t()()()),s&2){let l=m.$implicit;n(3),r(" ",l.CUSTOMER_NAME," "),n(4),P("\xA0 ",l.CITY,", ",l.COUNTRY," ")}}function q(s,m){if(s&1&&b(0,"canvas",32),s&2){let l=O();u("data",l.lineChartData)("options",l.lineChartOptions)("type",l.lineChartType)}}var he=(()=>{let m=class m{constructor(d,o,i,c,p){this.api=d,this.data=o,this.appService=i,this.platformId=c,this.cdf=p,this.customerName="",this.customerId=0,this.lineChartData={datasets:[{data:[],backgroundColor:"rgba(255,255,255,1)",borderColor:"rgba(114,43,226,1)",pointBackgroundColor:"rgba(148,159,177,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(148,159,177,0.8)",fill:"origin"}],labels:[]},this.lineChartOptions={elements:{line:{tension:.2}},scales:{x:{grid:{display:!1}},y:{position:"left",grid:{display:!1}}},plugins:{legend:{display:!1}}},this.lineChartType="line",this.isBrowser=!1,this.years=[],this.currentYear=new Date().getFullYear(),this.isBrowser=B(this.platformId),this.appService.isDefaultLayout.set(!0),this.appService.screens=[{name:"Dashboard"}]}ngOnInit(){this.init()}init(){return E(this,null,function*(){yield this.data.checkToken(),this.generateYearList(1900,new Date().getFullYear()),this.getOrderDetailsForDashboard(),this.getOrdersDetailsMonthWise()})}generateYearList(d,o){for(let i=d;i<=o;i++){let c={id:i,name:i.toString()};this.years.push(c)}}selectCustomer(d){d&&(this.customerId=d.id,this.customerName=d.name,this.getOrderDetailsForDashboard())}getOrderDetailsForDashboard(){let d={data:this.customerId};this.api.getOrdersDetailsForDashBoard(d).subscribe(o=>{this.dashboardData=JSON.parse(o.data)})}selectYear(){this.getOrdersDetailsMonthWise()}getOrdersDetailsMonthWise(){let d={string1:this.currentYear,string2:"",string3:"",long1:0,long2:0,int1:0,int2:0};this.api.getOrdersDetailsMonthWise(d).subscribe(o=>{this.lineChartData.datasets[0].data=o.datasets[0].data,this.lineChartData.labels=o.labels,this.cdf.detectChanges(),this.chart?.update()})}};m.\u0275fac=function(o){return new(o||m)(h(V),h(W),h(A),h(I),h(Y))},m.\u0275cmp=_({type:m,selectors:[["app-dashboard"]],viewQuery:function(o,i){if(o&1&&k(y,5),o&2){let c;R(c=N())&&(i.chart=c.first)}},standalone:!0,features:[F],decls:119,vars:13,consts:[[1,"w-full","h-full","grid","grid-cols-3","gap-x-2","pl-4"],[1,"col-span-2"],[1,"flex","flex-col","h-full","gap-y-3"],[1,"grid","grid-cols-4","gap-x-3"],[1,"col-span-2","bg-white","rounded-md","p-4","flex","flex-col","gap-y-3"],[1,"flex","items-center"],[1,"text-primary-dc","text-sm","font-medium"],[1,"flex","flex-col","gap-y-2"],[1,"flex","flex-row","items-center","gap-x-3"],[1,"flex-1","flex","items-center"],[1,"text-xs","font-medium","text-[#7C7C7C]"],[1,"ml-auto","p-1","bg-[#F4F4F4]","text-sm","font-medium","text-[#000000]"],[1,"bg-white","rounded-md","p-4","flex","flex-col","gap-y-3"],[1,"flex-1","relative"],[1,"absolute","top-0","left-0","right-0","bottom-0","overflow-hidden","z-0"],[1,"relative","w-full","h-full","overflow-auto","z-10"],[1,"flex","flex-col","bg-white","rounded-md","h-full","gap-y-3","py-4"],[1,"flex","items-center","px-4"],[1,"text-primary-dc","font-medium"],[1,"ml-auto"],["name","customerId","placeholder","select customer name",3,"ngModelChange","onSelect","ngModel","displayText"],[1,"table-responsive","px-4"],[1,"w-full","border-collapse","dashboard-table"],[1,"sticky","top-0","h-10"],[1,"px-2","text-left","font-medium","text-sm","bg-white","z-10"],[1,"h-10","group-[]"],[1,"col-span-1"],[1,"flex-1","rounded-md","bg-white","p-4"],[1,"flex","flex-col"],[1,"flex","items-center","border-b","border-[#D1D1D1]","py-3"],[1,"ml-auto","w-44"],["valueType","int","name","currentYear","key","id","keyname","name",3,"ngModelChange","ngModel","items"],["baseChart","",3,"data","options","type"],[1,"text-xs","px-2","text-left","font-normal","text-[#2b2b2b]","border-b","border-[#D1D1D1]"],[1,"flex","flex-col","gap-y-1"],[1,"text-[#000000]","font-semibold"],[1,"text-sm","text-[#333333]"],[1,"text-xs","text-[#333333]"],[1,"ml-auto","w-10","h-10","rounded-md","inline-flex","items-center","justify-center"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["d","M15.1018 6.86154C15.9245 7.6842 16.3866 8.79996 16.3866 9.96337V14.6486H7.61337V9.96337C7.61337 8.79996 8.07553 7.6842 8.89819 6.86154C9.72084 6.03889 10.8366 5.57672 12 5.57672C13.1634 5.57672 14.2791 6.03888 15.1018 6.86154Z","stroke","#333333","stroke-width","0.547","stroke-linecap","round","stroke-linejoin","round"],["d","M7.05275 15.1959H16.9472C17.2552 15.1959 17.5048 15.4455 17.5048 15.7534V16.0313C17.5048 16.3393 17.2552 16.5889 16.9472 16.5889H7.05275C6.74483 16.5889 6.49521 16.3393 6.49521 16.0313V15.7534C6.49521 15.4455 6.74483 15.1959 7.05275 15.1959Z","stroke","#333333","stroke-width","0.547","stroke-linecap","round","stroke-linejoin","round"],["d","M12.7532 17.9951C12.5361 18.2839 12.2612 18.423 11.9975 18.4233C11.7345 18.4213 11.4606 18.2811 11.2446 17.9924C11.0738 17.7641 10.9571 17.4644 10.915 17.1358H13.085C13.0427 17.4657 12.9251 17.7665 12.7532 17.9951Z","stroke","#333333","stroke-width","0.547","stroke-linecap","round","stroke-linejoin","round"]],template:function(o,i){o&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h5",6),a(7," Current Order Progress "),t()(),e(8,"section",7)(9,"section",8)(10,"section",9)(11,"p",10),a(12," Orders Received "),t(),e(13,"span",11),a(14),t()(),e(15,"section",9)(16,"p",10),a(17," Repacked "),t(),e(18,"span",11),a(19),t()()(),e(20,"section",8)(21,"section",9)(22,"p",10),a(23," Mismatched Orders "),t(),e(24,"span",11),a(25),t()(),e(26,"section",9)(27,"p",10),a(28," Ready to ship "),t(),e(29,"span",11),a(30),t()()()()(),e(31,"div",12)(32,"h5",6),a(33," Today Stats "),t(),e(34,"section",7)(35,"section",8)(36,"section",9)(37,"p",10),a(38," Orders Received "),t(),e(39,"span",11),a(40),t()()(),e(41,"section",8)(42,"section",9)(43,"p",10),a(44," Export Invoice generated "),t(),e(45,"span",11),a(46),t()()()()(),e(47,"div",12)(48,"h5",6),a(49," Preorders "),t(),e(50,"section",7)(51,"section",8)(52,"section",9)(53,"p",10),a(54," Total "),t(),e(55,"span",11),a(56),t()()(),e(57,"section",8)(58,"section",9)(59,"p",10),a(60," Expecting Today "),t(),e(61,"span",11),a(62),t()()()()()(),e(63,"div",13)(64,"div",14)(65,"div",15)(66,"section",16)(67,"div",17)(68,"h4",18),a(69," Stocks in hand "),t(),e(70,"div",19)(71,"app-customer-search",20),D("ngModelChange",function(p){return S(i.customerId,p)||(i.customerId=p),p}),v("onSelect",function(p){return i.selectCustomer(p)}),t()()(),e(72,"div",13)(73,"div",14)(74,"div",15)(75,"div",21)(76,"table",22)(77,"thead")(78,"tr",23)(79,"th",24),a(80," Order No "),t(),e(81,"th",24),a(82," Package No "),t(),e(83,"th",24),a(84," Product Name "),t(),e(85,"th",24),a(86," Quantity "),t(),e(87,"th",24),a(88," Unit "),t(),e(89,"th",24),a(90," Warehouse "),t(),e(91,"th",24),a(92," Customer Name "),t()()(),e(93,"tbody"),g(94,Z,15,7,"tr",25,f),t()()()()()()()()()()()(),e(96,"div",26)(97,"div",2)(98,"div",27)(99,"div",2)(100,"h4",18),a(101," Preorders expecting today "),t(),e(102,"div",13)(103,"div",14)(104,"div",15)(105,"div",28),g(106,G,13,3,"article",29,f),t()()()()()(),e(108,"div",27)(109,"div",2)(110,"div",5)(111,"h4",18),a(112," Overall Orders "),t(),e(113,"div",30)(114,"app-select-control",31),D("ngModelChange",function(p){return S(i.currentYear,p)||(i.currentYear=p),p}),v("ngModelChange",function(){return i.selectYear()}),t()()(),e(115,"div",13)(116,"div",14)(117,"div",15),w(118,q,1,3,"canvas",32),t()()()()()()()()),o&2&&(n(14),r(" ",i.dashboardData==null?null:i.dashboardData.Table[0].OrderReceivedCount," "),n(5),r(" ",i.dashboardData==null?null:i.dashboardData.Table[0].RepackingCount," "),n(6),r(" ",i.dashboardData==null?null:i.dashboardData.Table[0].MisMatchedOrdersCount," "),n(5),r(" ",i.dashboardData==null?null:i.dashboardData.Table[0].ReadyToShipCount," "),n(10),r(" ",i.dashboardData==null?null:i.dashboardData.Table1[0].TodayOrderReceivedCount," "),n(6),r(" ",i.dashboardData==null?null:i.dashboardData.Table1[0].TodayExportInvoiceCount," "),n(10),r(" ",i.dashboardData==null?null:i.dashboardData.Table2[0].TotalPreOrdersCount," "),n(6),r(" ",i.dashboardData==null?null:i.dashboardData.Table2[0].TodayPreOrdersCount," "),n(9),C("ngModel",i.customerId),u("displayText",i.customerName),n(23),x(i.dashboardData==null?null:i.dashboardData.Table4),n(12),x(i.dashboardData==null?null:i.dashboardData.Table3),n(8),C("ngModel",i.currentYear),u("items",i.years),n(4),M(118,i.isBrowser?118:-1))},dependencies:[j,y,Q,L,U,H,z],styles:[".dashboard-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:first-child   td[_ngcontent-%COMP%]{border-top:1px solid #D1D1D1}"]});let s=m;return s})();export{he as DashboardComponent};
