import{b as ae}from"./chunk-CURYQ7Y5.js";import{a as le}from"./chunk-VRV7RVVJ.js";import"./chunk-HX7EONYY.js";import{a as oe}from"./chunk-JPSRLJMP.js";import{a as ee}from"./chunk-JNKXOH34.js";import{f as ie}from"./chunk-MUTB2TKD.js";import"./chunk-FDQRYCWA.js";import"./chunk-EK4SZQL6.js";import{a as ne}from"./chunk-UKV72QET.js";import{a as U,b as re}from"./chunk-UI4BADPC.js";import"./chunk-2HVRJBZQ.js";import"./chunk-6PZJJONO.js";import"./chunk-AESYL7IM.js";import{f as Q,g as $,h as z,i as J,j as Z,l as K,m as X,p as te}from"./chunk-3ISTCKLJ.js";import{l as H,m as Y,x as G}from"./chunk-WPRVVZZ7.js";import{j as N,l as q,m as j,p as B}from"./chunk-HXOPXUWF.js";import"./chunk-WHRSLBFN.js";import"./chunk-2R4VX25A.js";import{Bb as g,Fb as V,Hb as L,Ib as W,Jb as P,Lb as d,Nb as x,Pa as l,Qa as f,Rb as w,Sb as y,Tb as b,Vb as R,Wb as F,g as M,gb as S,ib as p,ka as D,nb as T,ob as A,qb as O,rb as E,sb as n,tb as o,ua as c,ub as _,va as m,wa as v,wb as C,xa as I,zb as h}from"./chunk-HG3JTMY3.js";var se=["l"],ce=(a,s)=>s.repackingListDetailId,me=()=>["/home"],ue=()=>["/home/repacking/new"];function ge(a,s){if(a&1&&(n(0,"li",43),d(1),o()),a&2){let i=s.$implicit;l(),x(" ",i.msgDescription," ")}}function _e(a,s){if(a&1&&(n(0,"ul",42),O(1,ge,2,1,"li",43,A),o()),a&2){let i=g(2);l(),E(i.repacking.msg.infoMsgList)}}function he(a,s){if(a&1){let i=C();n(0,"div",14)(1,"section",37)(2,"h5",38),d(3,"There are some mismatched items"),o(),n(4,"button",39),h("click",function(){c(i);let e=g();return m(e.isExpanded=!e.isExpanded)}),v(),n(5,"svg",40),_(6,"path",41),o()()(),S(7,_e,3,0,"ul",42),o()}if(a&2){let i=g();l(7),T(7,i.isExpanded?7:-1)}}function fe(a,s){if(a&1){let i=C();n(0,"button",61),h("click",function(){c(i);let e=g(2).$implicit,r=g();return m(r.approveAlert(e))}),v(),n(1,"svg",62),_(2,"path",63),o()(),d(3," \xA0 ")}if(a&2){let i=g(2).$implicit;p("disabled",i.isVerifird==="N")}}function xe(a,s){if(a&1){let i=C();S(0,fe,4,1),n(1,"button",55),h("click",function(){c(i);let e=g(),r=e.$implicit,u=e.$index,k=g();return m(k.deleteItemAlert(r,u))}),v(),n(2,"svg",56),_(3,"path",57)(4,"path",58)(5,"path",59)(6,"path",60),o()()}if(a&2){let i=g().$implicit,t=g();T(0,t.repacking.repackingDetailId!==0&&i.isVerifird==="Y"?0:-1)}}function we(a,s){if(a&1){let i=C();n(0,"tr",28)(1,"td",44),d(2),o(),n(3,"td",44)(4,"app-input-control",45),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.packageNo,e)||(r.packageNo=e),m(e)}),o()(),n(5,"td",46)(6,"app-select-control",47),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.productId,e)||(r.productId=e),m(e)}),o()(),n(7,"td",44)(8,"app-package-type",48),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.packageTypeValue,e)||(r.packageTypeValue=e),m(e)}),h("onSelect",function(e){let r=c(i).$implicit,u=g();return m(u.selectPackage(e,r))}),o()(),n(9,"td",44)(10,"app-number-control",49),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.quantity,e)||(r.quantity=e),m(e)}),o()(),n(11,"td",44)(12,"app-unit-search",50),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.unitTypeValue,e)||(r.unitTypeValue=e),m(e)}),h("onSelect",function(e){let r=c(i).$implicit,u=g();return m(u.selectUnit(e,r))}),o()(),n(13,"td",44)(14,"app-number-control",51),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.netWeight,e)||(r.netWeight=e),m(e)}),o()(),n(15,"td",44)(16,"app-number-control",52),b("ngModelChange",function(e){let r=c(i).$implicit;return y(r.grossWeight,e)||(r.grossWeight=e),m(e)}),o()(),n(17,"td",53),S(18,xe,7,1,"button",54),o()()}if(a&2){let i=s.$implicit,t=s.$index,e=g();l(2),x(" ",t+1," "),l(2),V("name","packageNo",t,""),p("labelAnimation",!0),w("ngModel",i.packageNo),p("disabled",i.statusValue==="APROV")("required",!0)("errorTrue",e.errorTrue&&i.isVerifird!=="Y")("disabled",!0),l(2),V("name","productId",t,""),p("labelAnimation",!0),w("ngModel",i.productId),p("items",e.repacking.iprotoOrderDetails.lstprotoOrderDeliverySlipDetail)("required",!0)("disabled",i.statusValue==="APROV")("errorTrue",e.errorTrue&&i.isVerifird!=="Y"),l(2),p("displayText",i.packageTypeDescription)("labelAnimation",!0),w("ngModel",i.packageTypeValue),p("required",!0)("disabled",i.statusValue==="APROV")("errorTrue",e.errorTrue&&i.isVerifird!=="Y"),l(2),V("name","quantity",t,""),p("labelAnimation",!0),w("ngModel",i.quantity),p("disabled",i.statusValue==="APROV")("errorTrue",e.errorTrue&&i.isVerifird!=="Y")("required",!0),l(2),p("labelAnimation",!0)("displayText",i.unitTypeDescription),w("ngModel",i.unitTypeValue),p("disabled",i.statusValue==="APROV")("required",!0)("errorTrue",e.errorTrue&&i.isVerifird!=="Y"),l(2),V("name","netWeight",t,""),p("labelAnimation",!0),w("ngModel",i.netWeight),p("disabled",i.statusValue==="APROV")("required",!0)("errorTrue",e.errorTrue&&i.isVerifird!=="Y"),l(2),V("name","grossWeight",t,""),p("labelAnimation",!0),w("ngModel",i.grossWeight),p("disabled",i.statusValue==="APROV")("required",!0)("errorTrue",e.errorTrue&&i.isVerifird!=="Y"),l(2),T(18,i.statusValue!=="APPRD"?18:-1)}}var Ne=(()=>{let s=class s{constructor(t,e,r,u,k,de,pe){this.appService=t,this.route=e,this.router=r,this.api=u,this.data=k,this.url=de,this.alert=pe,this.id=0,this.repacking=new H,this.repackingItem=new Y,this.packageType="",this.productItem="",this.isExpanded=!1,this.errorTrue=!1,this.route.paramMap.subscribe(ye=>{this.init()}),this.appService.isNoMenu.set(!0),this.appService.screens=[{name:"Re Packing"},{name:"Order"}]}ngOnInit(){}init(){return M(this,null,function*(){let t=this.route.snapshot.paramMap.get("id"),e=yield this.url.decode(t);this.id=e.data,yield this.data.checkToken(),this.id!==0&&this.open()})}open(){let t={data:this.id};this.api.getRepackingForOrderDetail(t).subscribe(e=>{this.repacking=e,this.createItem()})}createItem(){let t={data:this.repacking.iprotoOrderDetails.orderDetailId};this.api.createNewRepackingItem(t).subscribe(e=>{this.repackingItem=e,this.addItem()})}addItem(){this.repacking.lstprotoRepackingListDetail.push(JSON.parse(JSON.stringify(this.repackingItem)))}deleteItem(t,e){t.repackingListDetailId===0?this.repacking.lstprotoRepackingListDetail.splice(e,1):this.api.deleteReceivedInvoiceItem(t).subscribe(r=>{this.repacking.lstprotoRepackingListDetail=r.lstprotoInvoiceDetailsItems})}selectPackage(t,e){e.packageTypeId=t.id,e.packageTypeValue=t.constant,e.packageTypeDescription=t.description}save(){this.lform.valid?(this.errorTrue=!1,this.api.saveRepackingDetail(this.repacking).subscribe(t=>{this.repacking=t,this.repacking.lstprotoRepackingListDetail.map(e=>{e.isVerifird!=="Y"&&(this.errorTrue=!0)})})):this.errorTrue=!0}selectUnit(t,e){e.unitTypeId=t.id,e.unitTypeValue=t.constant,e.unitTypeDescription=t.description}productSelect(t,e){e.productId=t.id,e.iprotoProduct.productName=t.name}approvedItem(t){t.statusValue="APPRD",this.api.approveRepackingDetail(this.repacking).subscribe(e=>{this.repacking=e})}approveAlert(t){return M(this,null,function*(){(yield this.alert.approveAlert("Are you sure you want to approve the selected package"))&&this.approvedItem(t)})}deleteItemAlert(t,e){return M(this,null,function*(){(yield this.alert.deleteAlert("Are you sure, You want to delete this item"))&&this.deleteItem(t,e)})}};s.\u0275fac=function(e){return new(e||s)(f(G),f(N),f(q),f(re),f(U),f(ne),f(le))},s.\u0275cmp=D({type:s,selectors:[["app-order"]],viewQuery:function(e,r){if(e&1&&L(se,5),e&2){let u;W(u=P())&&(r.lform=u.first)}},standalone:!0,features:[R],decls:69,vars:10,consts:[["l","ngForm"],[1,"flex","flex-row","h-full","w-full","gap-x-4"],[1,"flex","flex-col","h-full","gap-y-2"],[1,"flex","items-center","gap-x-2.5"],["matRipple","",1,"w-8.5","h-8.5","rounded-lg","flex","items-center","justify-center","cursor-pointer","bg-white","border","border-grey-dc",3,"routerLink"],["width","22","height","20","viewBox","0 0 22 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.21101 19V8.76471H2L11.3578 1L20 8.61345H19.0642V18.9496H14.2752V12.1429H8.15596V19","stroke","#333333","stroke-miterlimit","10"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg",1,"stroke-menu-outline"],["clip-path","url(#clip0_118_782)"],["d","M1.32642 5.21053H10.6106C13.9264 5.21053 16.6738 7.95789 16.6738 11.2737C16.6738 14.5895 13.9264 17.3368 10.6106 17.3368H1.32642","stroke","#333333","stroke-miterlimit","10"],["d","M5.4001 9.37895L1.32642 5.21053L5.4001 1.13684","stroke-miterlimit","10"],["id","clip0_118_782"],["width","18","height","18","fill","white"],[1,"flex-1","flex","flex-col","h-full","w-full","gap-y-2"],[1,"flex","flex-col","rounded-md","border","py-1","border-[#FF2727]","bg-[#FFEBEB]"],[1,"flex","flex-col","gap-x-2.5","rounded-md","bg-white","p-4"],[1,"text-primary-dc","text-xs","font-semibold"],[1,"grid","grid-cols-5","gap-x-3"],[1,"form-group"],[1,"text-label","text-xs","font-semibold"],[1,"text-value","text-sm","font-semibold"],[1,"flex-1","relative"],[1,"absolute","top-0","left-0","right-0","bottom-0","z-0","overflow-hidden"],[1,"relative","w-full","h-full","z-10","overflow-auto"],[1,"flex","flex-col","h-full","bg-white","rounded"],[1,"relative","w-full","h-full","z-10","overflow-auto","px-2","py-4"],[1,"w-full",3,"ngSubmit"],[1,"w-full","border-collapse"],[1,"h-10"],[1,"flex","items-center","py-3","relative"],[1,"w-full","h-[0.5px]","mr-3","bg-grey-dc"],[1,"w-9","h-9","font-normal","flex","items-center","justify-center","border-2","border-grey-dc","text-center","rounded-md","text-2xl","bg-white","text-[#323232]","transition-all","duration-500","ease-in-out","hover:border-primary-dc","hover:text-primary-dc","px-4","mx-auto",3,"click"],[1,"w-full","h-[0.5px]","ml-3","bg-grey-dc"],[1,"flex","items-center","py-3","px-4","border-t","border-t-grey-dc"],[1,"ml-auto","flex","items-center","gap-x-4"],[1,"dc-button","text-[#323232]","border","border-grey-dc","max-w-max","rounded-md","hover:bg-[#747474]","hover:text-white"],[1,"dc-button","max-w-max","text-white","bg-[#B188FF]","border","border-[#722BE2]","rounded-md","hover:bg-[#722BE2]",3,"click"],[1,"flex","items-center","py-2","px-2"],[1,"text-sm","font-medium"],["type","button",1,"ml-auto","inline-flex","items-center","justify-center",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.0275 8.5L12 13.4447L16.9725 8.5L18.5 10.0223L12 16.5L5.5 10.0223L7.0275 8.5Z","fill","#FF2727"],[1,"mb-0","pl-0","flex","flex-col"],[1,"odd:bg-[#FFF4F4]","py-2","px-2","text-sm","font-medium"],[1,"px-2","py-1"],["label","Package No",3,"ngModelChange","labelAnimation","ngModel","name","disabled","required","errorTrue"],[1,"px-2","py-1","w-48"],["label","Product Item","key","productId","keyname","productDetails","valueType","int",3,"ngModelChange","labelAnimation","name","ngModel","items","required","disabled","errorTrue"],["label","Package Type","name","packageTypeValue",3,"ngModelChange","onSelect","displayText","labelAnimation","ngModel","required","disabled","errorTrue"],["label","Quantity","valueType","int",3,"ngModelChange","labelAnimation","ngModel","name","disabled","errorTrue","required"],["label","Unit","name","unitTypeValue",3,"ngModelChange","onSelect","labelAnimation","displayText","ngModel","disabled","required","errorTrue"],["label","Nt Wt.","valueType","int",3,"ngModelChange","labelAnimation","ngModel","name","disabled","required","errorTrue"],["label","Gross Wt.","valueType","int",3,"ngModelChange","labelAnimation","ngModel","name","disabled","required","errorTrue"],[1,"px-2","py-1","whitespace-nowrap","flex","items-center"],["type","button",1,"rounded-full","h-9","w-9","flex","items-center","justify-center","bg-[#FF0012]"],["type","button",1,"rounded-full","h-9","w-9","flex","items-center","justify-center","bg-[#FF0012]",3,"click"],["width","15","height","15","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.9199 6.95996V13.9629C12.9199 14.2098 12.7198 14.4099 12.4729 14.4099H2.93699C2.69012 14.4099 2.48999 14.2098 2.48999 13.9629V6.95996","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["d","M6.21484 11.4299V6.95996","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["d","M9.19482 11.4299V6.95996","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["d","M14.4099 3.97997H10.6849M10.6849 3.97997V1.447C10.6849 1.20013 10.4848 1 10.2379 1H5.17196C4.92509 1 4.72496 1.20013 4.72496 1.447V3.97997M10.6849 3.97997H4.72496M1 3.97997H4.72496","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["type","button",1,"rounded-full","h-9","w-9","flex","items-center","justify-center","bg-[#0FA24A]","disabled:opacity-70",3,"click","disabled"],["width","17","height","11","viewBox","0 0 17 11","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 4.5L4.5 9.5L16.5 1","stroke","white"]],template:function(e,r){if(e&1){let u=C();n(0,"div",1)(1,"ol",2)(2,"li",3)(3,"a",4),v(),n(4,"svg",5),_(5,"path",6),o()(),I(),n(6,"a",4),v(),n(7,"svg",7)(8,"g",8),_(9,"path",9)(10,"path",10),o(),n(11,"defs")(12,"clipPath",11),_(13,"rect",12),o()()()()()(),I(),n(14,"div",13),S(15,he,8,1,"div",14),n(16,"div",15)(17,"h6",16),d(18," Basic Details "),o(),n(19,"div",17)(20,"div",18)(21,"label",19),d(22," Order No "),o(),n(23,"div",20),d(24),o()(),n(25,"div",18)(26,"label",19),d(27," Order Date "),o(),n(28,"div",20),d(29),o()(),n(30,"div",18)(31,"label",19),d(32," Customer Name "),o(),n(33,"div",20),d(34),o()(),n(35,"div",18)(36,"label",19),d(37," Freight Unloaded Godown Name "),o(),n(38,"div",20),d(39),o()(),n(40,"div",18)(41,"label",19),d(42," Vendor / Consignor Type "),o(),n(43,"div",20),d(44),o()()()(),n(45,"div",21)(46,"div",22)(47,"div",23)(48,"div",24)(49,"div",21)(50,"div",22)(51,"div",25)(52,"form",26,0),h("ngSubmit",function(){return c(u),m(r.save())}),n(54,"table",27)(55,"tbody"),O(56,we,19,51,"tr",28,ce),o()()(),n(58,"div",29),_(59,"span",30),n(60,"button",31),h("click",function(){return c(u),m(r.createItem())}),d(61," + "),o(),_(62,"span",32),o()()()(),n(63,"div",33)(64,"div",34)(65,"button",35),d(66," Cancel "),o(),n(67,"button",36),h("click",function(){return c(u),m(r.save())}),d(68," Save "),o()()()()()()()()()}e&2&&(l(3),p("routerLink",F(8,me)),l(3),p("routerLink",F(9,ue)),l(9),T(15,r.repacking.msg.infoMsgList.length!==0?15:-1),l(9),x(" ",r.repacking.iprotoOrderDetails.orderRefNo," "),l(5),x(" ",r.repacking.iprotoOrderDetails.orderDate," "),l(5),x(" ",r.repacking.iprotoOrderDetails.customerDetails," "),l(5),x(" ",r.repacking.iprotoOrderDetails.wareHouseDetails," "),l(5),x(" ",r.repacking.iprotoOrderDetails.wareHouseDetails," "),l(12),E(r.repacking.lstprotoRepackingListDetail))},dependencies:[B,j,te,X,Z,Q,$,K,J,z,oe,ie,ae,ee]});let a=s;return a})();export{Ne as OrderComponent};
