import{b as ae}from"./chunk-CURYQ7Y5.js";import{a as le}from"./chunk-VRV7RVVJ.js";import"./chunk-HX7EONYY.js";import{a as oe}from"./chunk-JPSRLJMP.js";import{a as ee}from"./chunk-JNKXOH34.js";import{f as ie}from"./chunk-MUTB2TKD.js";import"./chunk-FDQRYCWA.js";import"./chunk-EK4SZQL6.js";import{a as ne}from"./chunk-UKV72QET.js";import{a as Y,b as re}from"./chunk-UI4BADPC.js";import"./chunk-2HVRJBZQ.js";import"./chunk-6PZJJONO.js";import"./chunk-AESYL7IM.js";import{f as Q,g as $,h as z,i as Z,j as J,l as K,m as X,p as te}from"./chunk-3ISTCKLJ.js";import{l as O,m as G,x as U}from"./chunk-WPRVVZZ7.js";import{j as q,l as N,m as j,p as H}from"./chunk-HXOPXUWF.js";import"./chunk-WHRSLBFN.js";import"./chunk-2R4VX25A.js";import{Bb as c,Fb as S,Hb as P,Ib as R,Jb as W,Lb as s,Nb as x,Pa as l,Qa as h,Rb as f,Sb as y,Tb as b,Vb as B,Wb as F,g as T,gb as C,ib as d,ka as I,nb as k,ob as L,qb as D,rb as E,sb as n,tb as o,ua as m,ub as v,va as u,wa as V,wb as w,xa as A,zb as _}from"./chunk-HG3JTMY3.js";var de=["l"],ce=(a,p)=>p.repackingListDetailId,me=()=>["/home"],ue=()=>["/home/repacking"];function ge(a,p){if(a&1&&(n(0,"li",37),s(1),o()),a&2){let i=p.$implicit;l(),x(" ",i.msgDescription," ")}}function _e(a,p){if(a&1&&(n(0,"ul",36),D(1,ge,2,1,"li",37,L),o()),a&2){let i=c(2);l(),E(i.repacking.msg.infoMsgList)}}function he(a,p){if(a&1){let i=w();n(0,"div",14)(1,"section",31)(2,"h5",32),s(3,"There are some mismatched items"),o(),n(4,"button",33),_("click",function(){m(i);let e=c();return u(e.isExpanded=!e.isExpanded)}),V(),n(5,"svg",34),v(6,"path",35),o()()(),C(7,_e,3,0,"ul",36),o()}if(a&2){let i=c();l(7),k(7,i.isExpanded?7:-1)}}function we(a,p){if(a&1){let i=w();n(0,"button",55),_("click",function(){m(i);let e=c(2).$implicit,r=c();return u(r.approveAlert(e))}),V(),n(1,"svg",56),v(2,"path",57),o()(),s(3," \xA0 ")}if(a&2){let i=c(2).$implicit;d("disabled",i.isVerifird==="N")}}function xe(a,p){if(a&1){let i=w();C(0,we,4,1),n(1,"button",49),_("click",function(){m(i);let e=c(),r=e.$implicit,g=e.$index,M=c();return u(M.deleteItemAlert(r,g))}),V(),n(2,"svg",50),v(3,"path",51)(4,"path",52)(5,"path",53)(6,"path",54),o()()}if(a&2){let i=c().$implicit,t=c();k(0,t.repacking.repackingDetailId!==0&&i.isVerifird==="Y"?0:-1)}}function fe(a,p){if(a&1){let i=w();n(0,"tr",28)(1,"td",38),s(2),o(),n(3,"td",38)(4,"app-input-control",39),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.packageNo,e)||(r.packageNo=e),u(e)}),o()(),n(5,"td",40)(6,"app-select-control",41),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.productId,e)||(r.productId=e),u(e)}),o()(),n(7,"td",38)(8,"app-package-type",42),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.packageTypeValue,e)||(r.packageTypeValue=e),u(e)}),_("onSelect",function(e){let r=m(i).$implicit,g=c();return u(g.selectPackage(e,r))}),o()(),n(9,"td",38)(10,"app-number-control",43),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.quantity,e)||(r.quantity=e),u(e)}),o()(),n(11,"td",38)(12,"app-unit-search",44),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.unitTypeValue,e)||(r.unitTypeValue=e),u(e)}),_("onSelect",function(e){let r=m(i).$implicit,g=c();return u(g.selectUnit(e,r))}),o()(),n(13,"td",38)(14,"app-number-control",45),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.netWeight,e)||(r.netWeight=e),u(e)}),o()(),n(15,"td",38)(16,"app-number-control",46),b("ngModelChange",function(e){let r=m(i).$implicit;return y(r.grossWeight,e)||(r.grossWeight=e),u(e)}),o()(),n(17,"td",47),C(18,xe,7,1,"button",48),o()()}if(a&2){let i=p.$implicit,t=p.$index,e=c();l(2),x(" ",t+1," "),l(2),S("name","packageNo",t,""),d("labelAnimation",!0),f("ngModel",i.packageNo),d("disabled",!0)("required",!0)("errorTrue",e.errorTrue),l(2),d("labelAnimation",!0),f("ngModel",i.productId),d("items",e.repacking.iprotoOrderDetails.lstprotoOrderDeliverySlipDetail)("required",!0)("disabled",i.statusValue==="APPRD")("errorTrue",e.errorTrue&&i.isVerifird!=="Y"),l(2),d("displayText",i.packageTypeDescription)("labelAnimation",!0),f("ngModel",i.packageTypeValue),d("required",!0)("disabled",i.statusValue==="APPRD")("errorTrue",e.errorTrue),l(2),S("name","quantity",t,""),d("labelAnimation",!0),f("ngModel",i.quantity),d("disabled",i.statusValue==="APPRD")("errorTrue",e.errorTrue)("required",!0),l(2),d("labelAnimation",!0)("displayText",i.unitTypeDescription),f("ngModel",i.unitTypeValue),d("disabled",i.statusValue==="APPRD")("required",!0)("errorTrue",e.errorTrue),l(2),S("name","netWeight",t,""),d("labelAnimation",!0),f("ngModel",i.netWeight),d("disabled",i.statusValue==="APPRD")("required",!0)("errorTrue",e.errorTrue),l(2),S("name","grossWeight",t,""),d("labelAnimation",!0),f("ngModel",i.grossWeight),d("disabled",i.statusValue==="APPRD")("required",!0)("errorTrue",e.errorTrue),l(2),k(18,i.statusValue!=="APPRD"?18:-1)}}function ye(a,p){if(a&1){let i=w();n(0,"button",60),_("click",function(){m(i);let e=c(2);return u(e.approveAllAlert())}),s(1," Approve All "),o()}}function be(a,p){if(a&1){let i=w();n(0,"button",61),_("click",function(){m(i);let e=c(2);return u(e.update())}),s(1," Update "),o()}}function Ce(a,p){if(a&1&&(n(0,"div",30)(1,"button",58),s(2," Close "),o(),C(3,ye,2,0,"button",59)(4,be,2,0),o()),a&2){let i=c();l(3),k(3,i.isApprove?3:4)}}var He=(()=>{let p=class p{constructor(t,e,r,g,M,pe,se){this.appService=t,this.route=e,this.router=r,this.api=g,this.data=M,this.url=pe,this.alert=se,this.id=0,this.repacking=new O,this.repackingItem=new G,this.errorTrue=!1,this.isApprove=!1,this.isExpanded=!1,this.route.paramMap.subscribe(ke=>{this.init()}),this.appService.isNoMenu.set(!0),this.appService.screens=[{name:"Re Packing"},{name:"View"}]}init(){return T(this,null,function*(){let t=this.route.snapshot.paramMap.get("id"),e=yield this.url.decode(t);this.id=e.data,yield this.data.checkToken(),this.id!==0&&this.open()})}open(){let t={data:this.id};this.api.openRepackingDetail(t).subscribe(e=>{this.repacking=e,this.isApprove=this.repacking.lstprotoRepackingListDetail.every(r=>r.isVerifird==="Y")})}update(){console.log(this.lForm),this.lForm.valid?(this.errorTrue=!1,this.api.updateRepackingDetail(this.repacking).subscribe(t=>{this.repacking=t,this.repacking.lstprotoRepackingListDetail.map(e=>{e.isVerifird!=="Y"&&(this.errorTrue=!0)}),this.isApprove=this.repacking.lstprotoRepackingListDetail.every(e=>e.isVerifird==="Y")})):this.errorTrue=!0}selectPackage(t,e){e.packageTypeValue=t.constant,e.packageTypeDescription=t.description}approvedItem(t){t.statusValue="APPRD",this.api.approveRepackingDetail(this.repacking).subscribe(e=>{this.repacking=e})}approvedALL(){this.repacking.lstprotoRepackingListDetail.map(t=>{t.statusValue="APPRD"}),this.api.approveRepackingDetail(this.repacking).subscribe(t=>{this.repacking=t})}deleteItem(t,e){t.repackingListDetailId===0?this.repacking.lstprotoRepackingListDetail.splice(e,1):this.api.deleteReceivedInvoiceItem(t).subscribe(r=>{this.repacking.lstprotoRepackingListDetail=r.lstprotoInvoiceDetailsItems})}selectUnit(t,e){e.unitTypeId=t.id,e.unitTypeValue=t.constant,e.unitTypeDescription=t.description}approveAlert(t){return T(this,null,function*(){(yield this.alert.approveAlert("Are you sure you want to approve the selected package"))&&this.approvedItem(t)})}approveAllAlert(){return T(this,null,function*(){(yield this.alert.approveAlert("Are you sure you want to approve the all of packages"))&&this.approvedALL()})}deleteItemAlert(t,e){return T(this,null,function*(){(yield this.alert.deleteAlert("Are you sure, You want to delete this item"))&&this.deleteItem(t,e)})}};p.\u0275fac=function(e){return new(e||p)(h(U),h(q),h(N),h(re),h(Y),h(ne),h(le))},p.\u0275cmp=I({type:p,selectors:[["app-view"]],viewQuery:function(e,r){if(e&1&&P(de,5),e&2){let g;R(g=W())&&(r.lForm=g.first)}},standalone:!0,features:[B],decls:60,vars:11,consts:[["l","ngForm"],[1,"flex","flex-row","h-full","w-full","gap-x-4"],[1,"flex","flex-col","h-full","gap-y-2"],[1,"flex","items-center","gap-x-2.5"],["matRipple","",1,"w-8.5","h-8.5","rounded-lg","flex","items-center","justify-center","cursor-pointer","bg-white","border","border-grey-dc",3,"routerLink"],["width","22","height","20","viewBox","0 0 22 20","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M3.21101 19V8.76471H2L11.3578 1L20 8.61345H19.0642V18.9496H14.2752V12.1429H8.15596V19","stroke","#333333","stroke-miterlimit","10"],["width","18","height","18","viewBox","0 0 18 18","fill","none","xmlns","http://www.w3.org/2000/svg",1,"stroke-menu-outline"],["clip-path","url(#clip0_118_782)"],["d","M1.32642 5.21053H10.6106C13.9264 5.21053 16.6738 7.95789 16.6738 11.2737C16.6738 14.5895 13.9264 17.3368 10.6106 17.3368H1.32642","stroke","#333333","stroke-miterlimit","10"],["d","M5.4001 9.37895L1.32642 5.21053L5.4001 1.13684","stroke-miterlimit","10"],["id","clip0_118_782"],["width","18","height","18","fill","white"],[1,"flex-1","flex","flex-col","h-full","w-full","gap-y-2"],[1,"flex","flex-col","rounded-md","border","py-1","border-[#FF2727]","bg-[#FFEBEB]"],[1,"flex","flex-col","gap-x-2.5","rounded-md","bg-white","p-4"],[1,"text-primary-dc","text-xs","font-semibold"],[1,"grid","grid-cols-5","gap-x-3"],[1,"form-group"],[1,"text-label","text-xs","font-semibold"],[1,"text-value","text-sm","font-semibold"],[1,"flex-1","relative"],[1,"absolute","top-0","left-0","right-0","bottom-0","z-0","overflow-hidden"],[1,"relative","w-full","h-full","z-10","overflow-auto"],[1,"flex","flex-col","h-full","bg-white","rounded"],[1,"relative","w-full","h-full","z-10","overflow-auto","px-2","py-4"],[1,"h-full",3,"ngSubmit"],[1,"w-full","border-collapse"],[1,"h-10"],[1,"flex","items-center","py-3","px-4","border-t","border-t-grey-dc"],[1,"ml-auto","flex","items-center","gap-x-4"],[1,"flex","items-center","py-2","px-2"],[1,"text-sm","font-medium"],["type","button",1,"ml-auto","inline-flex","items-center","justify-center",3,"click"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M7.0275 8.5L12 13.4447L16.9725 8.5L18.5 10.0223L12 16.5L5.5 10.0223L7.0275 8.5Z","fill","#FF2727"],[1,"mb-0","pl-0","flex","flex-col"],[1,"odd:bg-[#FFF4F4]","py-2","px-2","text-sm","font-medium"],[1,"px-2","py-1"],["label","Package No",3,"ngModelChange","labelAnimation","ngModel","name","disabled","required","errorTrue"],[1,"px-2","py-1","w-48"],["label","Product Item","name","productId","key","productId","keyname","productDetails","valueType","int",3,"ngModelChange","labelAnimation","ngModel","items","required","disabled","errorTrue"],["label","Package Type","name","packageTypeValue",3,"ngModelChange","onSelect","displayText","labelAnimation","ngModel","required","disabled","errorTrue"],["label","Quantity",3,"ngModelChange","labelAnimation","ngModel","name","disabled","errorTrue","required"],["label","Unit","name","unitTypeValue",3,"ngModelChange","onSelect","labelAnimation","displayText","ngModel","disabled","required","errorTrue"],["label","Nt Wt.",3,"ngModelChange","labelAnimation","ngModel","name","disabled","required","errorTrue"],["label","Gross Wt.",3,"ngModelChange","labelAnimation","ngModel","name","disabled","required","errorTrue"],[1,"px-2","py-1","whitespace-nowrap","flex","items-center"],["type","button",1,"rounded-full","h-9","w-9","flex","items-center","justify-center","bg-[#FF0012]"],["type","button",1,"rounded-full","h-9","w-9","flex","items-center","justify-center","bg-[#FF0012]",3,"click"],["width","15","height","15","viewBox","0 0 15 15","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M12.9199 6.95996V13.9629C12.9199 14.2098 12.7198 14.4099 12.4729 14.4099H2.93699C2.69012 14.4099 2.48999 14.2098 2.48999 13.9629V6.95996","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["d","M6.21484 11.4299V6.95996","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["d","M9.19482 11.4299V6.95996","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["d","M14.4099 3.97997H10.6849M10.6849 3.97997V1.447C10.6849 1.20013 10.4848 1 10.2379 1H5.17196C4.92509 1 4.72496 1.20013 4.72496 1.447V3.97997M10.6849 3.97997H4.72496M1 3.97997H4.72496","stroke","white","stroke-width","1.11749","stroke-linecap","round","stroke-linejoin","round"],["type","button",1,"rounded-full","h-9","w-9","flex","items-center","justify-center","bg-[#0FA24A]","disabled:opacity-70",3,"click","disabled"],["width","17","height","11","viewBox","0 0 17 11","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M1 4.5L4.5 9.5L16.5 1","stroke","white"],["type","button",1,"dc-button","text-[#323232]","border","border-grey-dc","max-w-max","rounded-md","hover:bg-[#747474]","hover:text-white"],["type","button",1,"dc-button","max-w-max","text-[#25511B]","bg-[#C3FFBE]","border","border-[#25511B]","rounded-md","hover:bg-[#722BE2]","hover:text-white","hover:border-primary-dc"],["type","button",1,"dc-button","max-w-max","text-[#25511B]","bg-[#C3FFBE]","border","border-[#25511B]","rounded-md","hover:bg-[#722BE2]","hover:text-white","hover:border-primary-dc",3,"click"],["type","submit",1,"dc-button","max-w-max","text-white","bg-[#B188FF]","border","border-[#722BE2]","rounded-md","hover:bg-[#722BE2]",3,"click"]],template:function(e,r){if(e&1){let g=w();n(0,"div",1)(1,"ol",2)(2,"li",3)(3,"a",4),V(),n(4,"svg",5),v(5,"path",6),o()(),A(),n(6,"a",4),V(),n(7,"svg",7)(8,"g",8),v(9,"path",9)(10,"path",10),o(),n(11,"defs")(12,"clipPath",11),v(13,"rect",12),o()()()()()(),A(),n(14,"div",13),C(15,he,8,1,"div",14),n(16,"div",15)(17,"h6",16),s(18," Basic Details "),o(),n(19,"div",17)(20,"div",18)(21,"label",19),s(22," Order No "),o(),n(23,"div",20),s(24),o()(),n(25,"div",18)(26,"label",19),s(27," Order Date "),o(),n(28,"div",20),s(29),o()(),n(30,"div",18)(31,"label",19),s(32," Customer Name "),o(),n(33,"div",20),s(34),o()(),n(35,"div",18)(36,"label",19),s(37," Freight Unloaded Godown Name "),o(),n(38,"div",20),s(39),o()(),n(40,"div",18)(41,"label",19),s(42," Vendor / Consignor Type "),o(),n(43,"div",20),s(44),o()()()(),n(45,"div",21)(46,"div",22)(47,"div",23)(48,"div",24)(49,"div",21)(50,"div",22)(51,"div",25)(52,"form",26,0),_("ngSubmit",function(){return m(g),u(r.update())}),n(54,"table",27)(55,"tbody"),D(56,fe,19,48,"tr",28,ce),o()()()()()(),n(58,"div",29),C(59,Ce,5,1,"div",30),o()()()()()()()}e&2&&(l(3),d("routerLink",F(9,me)),l(3),d("routerLink",F(10,ue)),l(9),k(15,r.repacking.msg.infoMsgList.length!==0?15:-1),l(9),x(" ",r.repacking.iprotoOrderDetails.orderRefNo," "),l(5),x(" ",r.repacking.iprotoOrderDetails.orderDate," "),l(5),x(" ",r.repacking.iprotoOrderDetails.customerDetails.split("#")[0],", "),l(5),x(" ",r.repacking.iprotoOrderDetails.wareHouseDetails.split("#")[0]," "),l(5),x(" ",r.repacking.iprotoOrderDetails.customerDetails.split("#")[0]," "),l(12),E(r.repacking.lstprotoRepackingListDetail),l(3),k(59,r.repacking.statusValue!=="APPRD"?59:-1))},dependencies:[H,j,te,X,J,Q,$,K,Z,z,oe,ie,ee,ae]});let a=p;return a})();export{He as ViewComponent};
